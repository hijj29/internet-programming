# Лабораторная работа №13: Управление кластером Docker Swarm
## Шаг 1: Создание кластера Docker Swarm
Сначала создадим кластер с одной мастер-ноды и тремя рабочими нодами:
```docker
 swarm init --advertise-addr <IP_МАСТЕР_НОДЫ>
```
Добавим три рабочие ноды к кластеру:
```docker
 swarm join --token <TOKEN> <IP_МАСТЕР_НОДЫ>:2377
```
Проверим состояние кластера:
```
docker node ls
```
## Шаг 2: Добавление сервиса containous/whoami
Создадим файл docker-compose.yml со следующей конфигурацией:
```yaml
version: '3'
services:
  whoami:
    image: containous/whoami
    deploy:
      replicas: 6
```
Развернем стек:
```docker
 stack deploy -c docker-compose.yml whoami_stack
```
Проверим статус сервиса:

```docker service ls```
## Шаг 3: Изменение статуса рабочих нод
Первыми двумя рабочим нодам присвоем статус мастера:
```docker node 
update --availability active <ID_РABОЧЕЙ_НОДЫ>
```



